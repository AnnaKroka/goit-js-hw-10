{"version":3,"file":"1-timer.js","sources":["../src/js/1-timer.js"],"sourcesContent":["// –û–ø–∏—Å–∞–Ω–∏–π –≤ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—ó\nimport flatpickr from \"flatpickr\";\n// –î–æ–¥–∞—Ç–∫–æ–≤–∏–π —ñ–º–ø–æ—Ä—Ç —Å—Ç–∏–ª—ñ–≤\nimport \"flatpickr/dist/flatpickr.min.css\";\n// –û–ø–∏—Å–∞–Ω–∏–π —É –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—ó\nimport iziToast from \"izitoast\";\n// –î–æ–¥–∞—Ç–∫–æ–≤–∏–π —ñ–º–ø–æ—Ä—Ç —Å—Ç–∏–ª—ñ–≤\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nconst startBtn = document.querySelector(\".btn-start\");\nstartBtn.setAttribute('disabled', '');\nconst inputDate = document.querySelector(\".time-input\");\nlet dayData = document.querySelector('.value[data-days]');\nlet hourData = document.querySelector('.value[data-hours]');\nlet minuteData = document.querySelector('.value[data-minutes]');\nlet secData = document.querySelector('.value[data-seconds]');\n\nlet userSelectedDate = 0;\n\nconst options = {\n        enableTime: true,\n        time_24hr: true,\n        defaultDate: new Date(),\n        minuteIncrement: 1,\n        onClose(selectedDates) {\n            if (selectedDates[0] < new Date()) {\n                iziToast.warning({\n                    message: 'üóô  Please choose a date in the future',\n                    position: \"topRight\",\n                    color: '#ef4040',\n                    messageColor: 'white',\n                    icon: false,\n                    });\n                startBtn.setAttribute('disabled', '');\n                \n              } else {\n                startBtn.removeAttribute('disabled', '');\n                userSelectedDate = selectedDates[0];\n              }\n        },\n      };\n\n\nflatpickr('#datetime-picker', options);\n\nfunction convertMs(ms) {\n    // Number of milliseconds per unit of time\n    const second = 1000;\n    const minute = second * 60;\n    const hour = minute * 60;\n    const day = hour * 24;\n  \n    // Remaining days\n    const days = Math.floor(ms / day);\n    // Remaining hours\n    const hours = Math.floor((ms % day) / hour);\n    // Remaining minutes\n    const minutes = Math.floor(((ms % day) % hour) / minute);\n    // Remaining seconds\n    const seconds = Math.floor((((ms % day) % hour) % minute) / second);\n  \n    return { days, hours, minutes, seconds };\n  }\n\n  console.log(convertMs(2000)); // {days: 0, hours: 0, minutes: 0, seconds: 2}\n  console.log(convertMs(140000)); // {days: 0, hours: 0, minutes: 2, seconds: 20}\n  console.log(convertMs(24140000)); // {days: 0, hours: 6 minutes: 42, seconds: 20}\n \nclass Timer {\n    constructor (onTick) {\n        this.isActive = false;\n        this.onTick = onTick;\n    }\n\nstart() {\n    if (this.isActive) return;\n    this.isActive = true;\n\n    startBtn.setAttribute('disabled', '');\n    inputDate.setAttribute('disabled', '');\n\n    let timeDifference = userSelectedDate - new Date();\n    this.intervalId = setInterval (() => {\n        if (timeDifference >=1000) {\n            timeDifference -= 1000;\n        } else {\n            timeDifference = 0;\n            this.stop();\n        }\n        const startTime = convertMs(timeDifference);\n        this.onTick(startTime);\n    }, 1000);\n}\nstop() {\n    clearInterval(this.intervalId);\n    this.isActive = false;\n    startBtn.removeAttribute('disabled', '');\n    inputDate.removeAttribute('disabled', '');\n}\n}\n\nfunction onTick ({days, hours, minutes, seconds}) {\n    dayData.innerHTML = addLeadingZero(days);\n    hourData.innerHTML = addLeadingZero(hours);\n    minuteData.innerHTML = addLeadingZero(minutes);\n    secData.innerHTML = addLeadingZero(seconds);\n}\n\nconst addLeadingZero = value => {\n    return String(value).padStart(2, '0');\n};\n\n\n  const timer = new Timer(onTick);\n  console.log(timer);\n\n  startBtn.addEventListener('click', () => timer.start());"],"names":["startBtn","inputDate","dayData","hourData","minuteData","secData","userSelectedDate","options","selectedDates","iziToast","flatpickr","convertMs","ms","days","hours","minutes","seconds","Timer","onTick","timeDifference","startTime","addLeadingZero","value","timer"],"mappings":"0IASA,MAAMA,EAAW,SAAS,cAAc,YAAY,EACpDA,EAAS,aAAa,WAAY,EAAE,EACpC,MAAMC,EAAY,SAAS,cAAc,aAAa,EACtD,IAAIC,EAAU,SAAS,cAAc,mBAAmB,EACpDC,EAAW,SAAS,cAAc,oBAAoB,EACtDC,EAAa,SAAS,cAAc,sBAAsB,EAC1DC,EAAU,SAAS,cAAc,sBAAsB,EAEvDC,EAAmB,EAEvB,MAAMC,EAAU,CACR,WAAY,GACZ,UAAW,GACX,YAAa,IAAI,KACjB,gBAAiB,EACjB,QAAQC,EAAe,CACfA,EAAc,CAAC,EAAI,IAAI,MACvBC,EAAS,QAAQ,CACb,QAAS,yCACT,SAAU,WACV,MAAO,UACP,aAAc,QACd,KAAM,EAC1B,CAAqB,EACLT,EAAS,aAAa,WAAY,EAAE,IAGpCA,EAAS,gBAAgB,WAAY,EAAE,EACvCM,EAAmBE,EAAc,CAAC,EAEzC,CACT,EAGAE,EAAU,mBAAoBH,CAAO,EAErC,SAASI,EAAUC,EAAI,CAQnB,MAAMC,EAAO,KAAK,MAAMD,EAAK,KAAG,EAE1BE,EAAQ,KAAK,MAAOF,EAAK,MAAO,IAAI,EAEpCG,EAAU,KAAK,MAAQH,EAAK,MAAO,KAAQ,GAAM,EAEjDI,EAAU,KAAK,MAASJ,EAAK,MAAO,KAAQ,IAAU,GAAM,EAElE,MAAO,CAAE,KAAAC,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,CAAO,CACvC,CAED,QAAQ,IAAIL,EAAU,GAAI,CAAC,EAC3B,QAAQ,IAAIA,EAAU,IAAM,CAAC,EAC7B,QAAQ,IAAIA,EAAU,MAAQ,CAAC,EAEjC,MAAMM,CAAM,CACR,YAAaC,EAAQ,CACjB,KAAK,SAAW,GAChB,KAAK,OAASA,CACjB,CAEL,OAAQ,CACJ,GAAI,KAAK,SAAU,OACnB,KAAK,SAAW,GAEhBlB,EAAS,aAAa,WAAY,EAAE,EACpCC,EAAU,aAAa,WAAY,EAAE,EAErC,IAAIkB,EAAiBb,EAAmB,IAAI,KAC5C,KAAK,WAAa,YAAa,IAAM,CAC7Ba,GAAiB,IACjBA,GAAkB,KAElBA,EAAiB,EACjB,KAAK,KAAI,GAEb,MAAMC,EAAYT,EAAUQ,CAAc,EAC1C,KAAK,OAAOC,CAAS,CACxB,EAAE,GAAI,CACX,CACA,MAAO,CACH,cAAc,KAAK,UAAU,EAC7B,KAAK,SAAW,GAChBpB,EAAS,gBAAgB,WAAY,EAAE,EACvCC,EAAU,gBAAgB,WAAY,EAAE,CAC5C,CACA,CAEA,SAASiB,EAAQ,CAAC,KAAAL,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,CAAO,EAAG,CAC9Cd,EAAQ,UAAYmB,EAAeR,CAAI,EACvCV,EAAS,UAAYkB,EAAeP,CAAK,EACzCV,EAAW,UAAYiB,EAAeN,CAAO,EAC7CV,EAAQ,UAAYgB,EAAeL,CAAO,CAC9C,CAEA,MAAMK,EAAiBC,GACZ,OAAOA,CAAK,EAAE,SAAS,EAAG,GAAG,EAIhCC,EAAQ,IAAIN,EAAMC,CAAM,EAC9B,QAAQ,IAAIK,CAAK,EAEjBvB,EAAS,iBAAiB,QAAS,IAAMuB,EAAM,MAAK,CAAE"}